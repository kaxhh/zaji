# 编译设置arch

## 问题出现

今天高宇编译发现一个问题，为何我们gcc使用的编译参数明明是-mips3，结果却报错出当前操作码不支持mips32体系结构。

后来我们发现，在源码里面有一个宏定义里面有一个伪命令`.set mips32`，这就直接导致了后面的代码以mips32体系结构来编译了，而mips3是64位体系结构，它们之间的操作码是有所区别的。

因此就出现了当前操作码不支持mips32体系结构类似这样的错误！

## 问题总结

- 由此可见伪命令`.set`先于gcc的传参生效的。
- 当发现这种编译问题时，我们不仅仅应该看编译参数，还应当注意到伪命令。